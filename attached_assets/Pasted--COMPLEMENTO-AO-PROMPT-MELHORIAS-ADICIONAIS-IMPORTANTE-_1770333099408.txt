# üéØ COMPLEMENTO AO PROMPT - MELHORIAS ADICIONAIS

## ‚ö†Ô∏è IMPORTANTE: Cole este prompt JUNTO com o anterior no Replit

---

## üì∏ UPLOAD DE FOTOS

### **TAREFA 8: Adicionar Upload de Foto no Onboarding**

**Modificar:** `client/src/pages/onboarding.tsx`

**No Step 1 (dados pessoais), adicionar ANTES dos campos de nome:**

```typescript
import { Camera, Upload } from "lucide-react";
import { Avatar, AvatarImage, AvatarFallback } from "@/components/ui/avatar";

// Adicionar state:
const [profilePhoto, setProfilePhoto] = useState<string | null>(null);

// Adicionar componente de upload:
<div className="flex flex-col items-center mb-6">
  <div className="relative group">
    <Avatar className="w-24 h-24 border-2 border-indigo-100">
      {profilePhoto ? (
        <AvatarImage src={profilePhoto} alt="Foto de perfil" />
      ) : (
        <AvatarFallback className="bg-gradient-to-br from-indigo-100 to-purple-100">
          <Camera className="h-8 w-8 text-indigo-400" />
        </AvatarFallback>
      )}
    </Avatar>
    
    <label className="absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity">
      <Upload className="h-6 w-6 text-white" />
      <input 
        type="file" 
        accept="image/*" 
        className="hidden"
        onChange={(e) => {
          const file = e.target.files?.[0];
          if (file) {
            const reader = new FileReader();
            reader.onloadend = () => {
              setProfilePhoto(reader.result as string);
            };
            reader.readAsDataURL(file);
          }
        }}
      />
    </label>
  </div>
  
  <p className="text-sm text-muted-foreground mt-2">
    {profilePhoto ? "Clique para trocar" : "Adicionar foto de perfil"}
  </p>
  <p className="text-xs text-muted-foreground">(Opcional)</p>
</div>
```

**Salvar no schema:**
```typescript
// Adicionar no insertUserSchema:
profilePhotoBase64: z.string().optional(),
```

---

### **TAREFA 9: Adicionar Upload de Foto do Parceiro no Radar do Cora√ß√£o**

**Modificar:** `client/src/pages/heart-radar.tsx` (componente `PartnerForm`)

**Adicionar ANTES do campo "Nome do parceiro":**

```typescript
const [partnerPhoto, setPartnerPhoto] = useState<string | null>(null);

<div className="flex flex-col items-center mb-6">
  <div className="relative group">
    <Avatar className="w-32 h-32 border-2 border-pink-100">
      {partnerPhoto ? (
        <AvatarImage src={partnerPhoto} alt="Foto do parceiro" />
      ) : (
        <AvatarFallback className="bg-gradient-to-br from-pink-100 to-indigo-100">
          <Heart className="h-12 w-12 text-pink-400" />
        </AvatarFallback>
      )}
    </Avatar>
    
    <label className="absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity">
      <Upload className="h-6 w-6 text-white" />
      <input 
        type="file" 
        accept="image/*" 
        className="hidden"
        onChange={(e) => {
          const file = e.target.files?.[0];
          if (file) {
            const reader = new FileReader();
            reader.onloadend = () => {
              setPartnerPhoto(reader.result as string);
            };
            reader.readAsDataURL(file);
          }
        }}
      />
    </label>
  </div>
  
  <p className="text-sm text-muted-foreground mt-2">
    Foto do parceiro
  </p>
  <p className="text-xs text-muted-foreground">(Obrigat√≥rio)</p>
</div>
```

**Atualizar schema de parceiro:**
```typescript
// Em shared/schema.ts, adicionar:
photoBase64: text("photo_base64"),
```

---

## üåé SELETOR DE ESTADO E CIDADE

### **TAREFA 10: Criar Componente de Sele√ß√£o de Estado/Cidade**

**Criar arquivo:** `client/src/components/BrazilStateCitySelector.tsx`

```typescript
import { useState } from "react";
import { Label } from "@/components/ui/label";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";

interface StateCitySelectorProps {
  onStateChange: (state: string) => void;
  onCityChange: (city: string) => void;
  selectedState?: string;
  selectedCity?: string;
  label?: string;
}

const brazilStates = [
  { uf: "AC", name: "Acre" },
  { uf: "AL", name: "Alagoas" },
  { uf: "AP", name: "Amap√°" },
  { uf: "AM", name: "Amazonas" },
  { uf: "BA", name: "Bahia" },
  { uf: "CE", name: "Cear√°" },
  { uf: "DF", name: "Distrito Federal" },
  { uf: "ES", name: "Esp√≠rito Santo" },
  { uf: "GO", name: "Goi√°s" },
  { uf: "MA", name: "Maranh√£o" },
  { uf: "MT", name: "Mato Grosso" },
  { uf: "MS", name: "Mato Grosso do Sul" },
  { uf: "MG", name: "Minas Gerais" },
  { uf: "PA", name: "Par√°" },
  { uf: "PB", name: "Para√≠ba" },
  { uf: "PR", name: "Paran√°" },
  { uf: "PE", name: "Pernambuco" },
  { uf: "PI", name: "Piau√≠" },
  { uf: "RJ", name: "Rio de Janeiro" },
  { uf: "RN", name: "Rio Grande do Norte" },
  { uf: "RS", name: "Rio Grande do Sul" },
  { uf: "RO", name: "Rond√¥nia" },
  { uf: "RR", name: "Roraima" },
  { uf: "SC", name: "Santa Catarina" },
  { uf: "SP", name: "S√£o Paulo" },
  { uf: "SE", name: "Sergipe" },
  { uf: "TO", name: "Tocantins" },
];

// Top 30 cidades por estado (principais)
const citiesByState: Record<string, string[]> = {
  "SP": ["S√£o Paulo", "Campinas", "Santos", "Ribeir√£o Preto", "Sorocaba", "S√£o Jos√© dos Campos", "Osasco", "Santo Andr√©", "Guarulhos", "Bauru"],
  "RJ": ["Rio de Janeiro", "Niter√≥i", "Nova Igua√ßu", "Duque de Caxias", "S√£o Gon√ßalo", "Campos dos Goytacazes", "Petr√≥polis", "Volta Redonda", "Maca√©", "Cabo Frio"],
  "MG": ["Belo Horizonte", "Uberl√¢ndia", "Contagem", "Juiz de Fora", "Betim", "Montes Claros", "Ribeir√£o das Neves", "Uberaba", "Governador Valadares", "Ipatinga"],
  "SC": ["Florian√≥polis", "Joinville", "Blumenau", "Balne√°rio Cambori√∫", "Chapec√≥", "Crici√∫ma", "Itaja√≠", "Jaragu√° do Sul", "Lages", "Palho√ßa"],
  "PR": ["Curitiba", "Londrina", "Maring√°", "Ponta Grossa", "Cascavel", "Foz do Igua√ßu", "S√£o Jos√© dos Pinhais", "Colombo", "Guarapuava", "Paranagu√°"],
  "RS": ["Porto Alegre", "Caxias do Sul", "Pelotas", "Canoas", "Santa Maria", "Gravata√≠", "Viam√£o", "Novo Hamburgo", "S√£o Leopoldo", "Rio Grande"],
  "BA": ["Salvador", "Feira de Santana", "Vit√≥ria da Conquista", "Cama√ßari", "Itabuna", "Juazeiro", "Lauro de Freitas", "Ilh√©us", "Jequi√©", "Teixeira de Freitas"],
  "PE": ["Recife", "Jaboat√£o dos Guararapes", "Olinda", "Caruaru", "Petrolina", "Paulista", "Cabo de Santo Agostinho", "Camaragibe", "Garanhuns", "Vit√≥ria de Santo Ant√£o"],
  "CE": ["Fortaleza", "Caucaia", "Juazeiro do Norte", "Maracana√∫", "Sobral", "Crato", "Itapipoca", "Maranguape", "Iguatu", "Quixad√°"],
  "GO": ["Goi√¢nia", "Aparecida de Goi√¢nia", "An√°polis", "Rio Verde", "Luzi√¢nia", "√Åguas Lindas de Goi√°s", "Valpara√≠so de Goi√°s", "Trindade", "Formosa", "Novo Gama"],
  "PA": ["Bel√©m", "Ananindeua", "Santar√©m", "Marab√°", "Castanhal", "Parauapebas", "Itaituba", "Camet√°", "Bragan√ßa", "Abaetetuba"],
  // Adicione mais estados conforme necess√°rio
  "DF": ["Bras√≠lia"],
  "ES": ["Vit√≥ria", "Vila Velha", "Serra", "Cariacica", "Cachoeiro de Itapemirim", "Linhares", "S√£o Mateus", "Colatina", "Guarapari", "Aracruz"],
  "AM": ["Manaus", "Parintins", "Itacoatiara", "Manacapuru", "Coari", "Tef√©", "Tabatinga", "Mau√©s", "Humait√°", "S√£o Gabriel da Cachoeira"],
  "MA": ["S√£o Lu√≠s", "Imperatriz", "Caxias", "Timon", "Cod√≥", "Pa√ßo do Lumiar", "S√£o Jos√© de Ribamar", "Bacabal", "A√ßail√¢ndia", "Balsas"],
  "RN": ["Natal", "Mossor√≥", "Parnamirim", "S√£o Gon√ßalo do Amarante", "Maca√≠ba", "Cear√°-Mirim", "Caic√≥", "Assu", "Currais Novos", "Nova Cruz"],
  "PB": ["Jo√£o Pessoa", "Campina Grande", "Santa Rita", "Patos", "Bayeux", "Sousa", "Cajazeiras", "Guarabira", "Sap√©", "Monteiro"],
  "AL": ["Macei√≥", "Arapiraca", "Rio Largo", "Palmeira dos √çndios", "Uni√£o dos Palmares", "S√£o Miguel dos Campos", "Penedo", "Coruripe", "Marechal Deodoro", "Delmiro Gouveia"],
  "SE": ["Aracaju", "Nossa Senhora do Socorro", "Lagarto", "Itabaiana", "S√£o Crist√≥v√£o", "Est√¢ncia", "Propri√°", "Tobias Barreto", "Sim√£o Dias", "Barra dos Coqueiros"],
  "PI": ["Teresina", "Parna√≠ba", "Picos", "Piripiri", "Floriano", "Campo Maior", "Barras", "Altos", "Uni√£o", "Jos√© de Freitas"],
  "RO": ["Porto Velho", "Ji-Paran√°", "Ariquemes", "Vilhena", "Cacoal", "Rolim de Moura", "Guajar√°-Mirim", "Jaru", "Ouro Preto do Oeste", "Pimenta Bueno"],
  "AC": ["Rio Branco", "Cruzeiro do Sul", "Sena Madureira", "Tarauac√°", "Feij√≥", "Brasileia", "Pl√°cido de Castro", "Senador Guiomard", "Xapuri", "Epitaciol√¢ndia"],
  "AP": ["Macap√°", "Santana", "Laranjal do Jari", "Oiapoque", "Mazag√£o", "Porto Grande", "Tartarugalzinho", "Vit√≥ria do Jari", "Cal√ßoene", "Amap√°"],
  "RR": ["Boa Vista", "Rorain√≥polis", "Caracara√≠", "Alto Alegre", "Mucaja√≠", "Cant√°", "Bonfim", "Normandia", "Pacaraima", "S√£o Jo√£o da Baliza"],
  "TO": ["Palmas", "Aragua√≠na", "Gurupi", "Porto Nacional", "Para√≠so do Tocantins", "Araguatins", "Colinas do Tocantins", "Guara√≠", "Tocantin√≥polis", "Miracema do Tocantins"],
  "MT": ["Cuiab√°", "V√°rzea Grande", "Rondon√≥polis", "Sinop", "Tangar√° da Serra", "C√°ceres", "Sorriso", "Lucas do Rio Verde", "Barra do Gar√ßas", "Primavera do Leste"],
  "MS": ["Campo Grande", "Dourados", "Tr√™s Lagoas", "Corumb√°", "Ponta Por√£", "Sidrol√¢ndia", "Navira√≠", "Nova Andradina", "Aquidauana", "Parana√≠ba"],
};

export function BrazilStateCitySelector({
  onStateChange,
  onCityChange,
  selectedState,
  selectedCity,
  label = "Local de nascimento"
}: StateCitySelectorProps) {
  const [state, setState] = useState(selectedState || "");
  const [city, setCity] = useState(selectedCity || "");

  const handleStateChange = (newState: string) => {
    setState(newState);
    setCity(""); // Reset city when state changes
    onStateChange(newState);
    onCityChange("");
  };

  const handleCityChange = (newCity: string) => {
    setCity(newCity);
    onCityChange(newCity);
  };

  const availableCities = state ? citiesByState[state] || [] : [];

  return (
    <div className="space-y-4">
      <div>
        <Label>{label} - Estado</Label>
        <Select value={state} onValueChange={handleStateChange}>
          <SelectTrigger>
            <SelectValue placeholder="Selecione o estado" />
          </SelectTrigger>
          <SelectContent>
            {brazilStates.map((s) => (
              <SelectItem key={s.uf} value={s.uf}>
                {s.name} ({s.uf})
              </SelectItem>
            ))}
          </SelectContent>
        </Select>
      </div>

      {state && (
        <div>
          <Label>Cidade</Label>
          <Select value={city} onValueChange={handleCityChange} disabled={!state}>
            <SelectTrigger>
              <SelectValue placeholder="Selecione a cidade" />
            </SelectTrigger>
            <SelectContent>
              {availableCities.map((c) => (
                <SelectItem key={c} value={c}>
                  {c}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>
      )}
    </div>
  );
}
```

**Usar no Onboarding (Step 2):**
```typescript
import { BrazilStateCitySelector } from "@/components/BrazilStateCitySelector";

// Substituir o campo de texto "birthCity" por:
<BrazilStateCitySelector
  onStateChange={(state) => form.setValue("birthState", state)}
  onCityChange={(city) => form.setValue("birthCity", city)}
  selectedState={form.watch("birthState")}
  selectedCity={form.watch("birthCity")}
/>
```

**Usar no Radar do Cora√ß√£o (PartnerForm):**
```typescript
<BrazilStateCitySelector
  onStateChange={(state) => setPartnerState(state)}
  onCityChange={(city) => setPartnerCity(city)}
  label="Local de nascimento do parceiro"
/>
```

---

## üìÑ P√ÅGINAS DE TERMOS E PRIVACIDADE

### **TAREFA 11: Criar P√°ginas de Termos e Privacidade**

**Criar arquivo:** `client/src/pages/terms.tsx`

```typescript
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { useLocation } from "wouter";
import { ArrowLeft } from "lucide-react";

export default function Terms() {
  const [, setLocation] = useLocation();

  return (
    <div className="min-h-screen bg-white p-6">
      <div className="max-w-4xl mx-auto">
        <Button 
          variant="ghost" 
          className="mb-6"
          onClick={() => setLocation("/")}
        >
          <ArrowLeft className="h-4 w-4 mr-2" />
          Voltar
        </Button>

        <Card>
          <CardHeader>
            <CardTitle className="text-2xl">Termos de Uso - AstroMeu</CardTitle>
          </CardHeader>
          <CardContent className="prose prose-sm max-w-none space-y-4">
            <p className="text-muted-foreground">√öltima atualiza√ß√£o: {new Date().toLocaleDateString('pt-BR')}</p>

            <h3 className="text-lg font-medium mt-6">1. Aceita√ß√£o dos Termos</h3>
            <p>
              Ao acessar e usar o AstroMeu, voc√™ concorda em estar vinculado a estes Termos de Uso. 
              Se voc√™ n√£o concordar com alguma parte destes termos, n√£o deve usar nosso servi√ßo.
            </p>

            <h3 className="text-lg font-medium mt-6">2. Descri√ß√£o do Servi√ßo</h3>
            <p>
              O AstroMeu √© uma plataforma de orienta√ß√£o astrol√≥gica que oferece:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li>√Åudios di√°rios personalizados baseados em seu mapa astral</li>
              <li>Chat com IA especializada em astrologia</li>
              <li>An√°lise de compatibilidade (planos premium)</li>
              <li>Di√°rio astrol√≥gico com feedback personalizado (plano superior)</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">3. Cadastro e Conta</h3>
            <p>
              Para usar o AstroMeu, voc√™ precisa:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Ter pelo menos 18 anos de idade</li>
              <li>Fornecer informa√ß√µes verdadeiras e precisas</li>
              <li>Manter a confidencialidade da sua conta</li>
              <li>Notificar imediatamente sobre uso n√£o autorizado</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">4. Planos e Pagamentos</h3>
            <p>
              Oferecemos tr√™s planos de assinatura:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li><strong>Ess√™ncia (R$ 29,90/m√™s):</strong> Funcionalidades b√°sicas</li>
              <li><strong>Conex√£o (R$ 39,90/m√™s):</strong> Inclui Radar do Cora√ß√£o</li>
              <li><strong>Plenitude (R$ 59,90/m√™s):</strong> Acesso completo</li>
            </ul>
            <p className="mt-2">
              Pagamentos s√£o processados mensalmente. Voc√™ pode cancelar a qualquer momento, 
              mas n√£o h√° reembolso proporcional do per√≠odo atual.
            </p>

            <h3 className="text-lg font-medium mt-6">5. Uso Aceit√°vel</h3>
            <p>Voc√™ concorda em N√ÉO:</p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Usar o servi√ßo para fins ilegais</li>
              <li>Compartilhar sua conta com terceiros</li>
              <li>Fazer engenharia reversa da plataforma</li>
              <li>Usar bots ou scripts automatizados</li>
              <li>Abusar do suporte ou chat</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">6. Natureza do Conte√∫do</h3>
            <p>
              <strong>IMPORTANTE:</strong> O AstroMeu oferece orienta√ß√£o astrol√≥gica para fins de 
              entretenimento e autoconhecimento. Nossas orienta√ß√µes N√ÉO substituem:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Aconselhamento m√©dico ou psicol√≥gico profissional</li>
              <li>Aconselhamento jur√≠dico</li>
              <li>Aconselhamento financeiro</li>
              <li>Tratamento de sa√∫de mental</li>
            </ul>
            <p className="mt-2">
              Se voc√™ est√° enfrentando problemas s√©rios de sa√∫de mental, relacionamento violento, 
              ou situa√ß√µes de emerg√™ncia, procure ajuda profissional imediatamente.
            </p>

            <h3 className="text-lg font-medium mt-6">7. Propriedade Intelectual</h3>
            <p>
              Todo conte√∫do do AstroMeu (textos, √°udios, designs, c√≥digo) √© propriedade da 
              plataforma e protegido por leis de direitos autorais.
            </p>

            <h3 className="text-lg font-medium mt-6">8. Limita√ß√£o de Responsabilidade</h3>
            <p>
              O AstroMeu n√£o se responsabiliza por:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Decis√µes tomadas com base nas orienta√ß√µes astrol√≥gicas</li>
              <li>Problemas t√©cnicos ou indisponibilidade tempor√°ria</li>
              <li>Perda de dados ou conte√∫do</li>
              <li>Danos indiretos ou consequenciais</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">9. Cancelamento</h3>
            <p>
              Voc√™ pode cancelar sua assinatura a qualquer momento atrav√©s do seu perfil. 
              O cancelamento ter√° efeito ao final do per√≠odo de cobran√ßa atual.
            </p>
            <p className="mt-2">
              N√≥s podemos suspender ou encerrar sua conta se voc√™ violar estes termos.
            </p>

            <h3 className="text-lg font-medium mt-6">10. Altera√ß√µes nos Termos</h3>
            <p>
              Podemos modificar estes termos a qualquer momento. Notificaremos voc√™ sobre 
              mudan√ßas significativas por email. O uso continuado ap√≥s as mudan√ßas constitui 
              aceita√ß√£o dos novos termos.
            </p>

            <h3 className="text-lg font-medium mt-6">11. Lei Aplic√°vel</h3>
            <p>
              Estes termos s√£o regidos pelas leis brasileiras. Qualquer disputa ser√° resolvida 
              nos tribunais do Brasil.
            </p>

            <h3 className="text-lg font-medium mt-6">12. Contato</h3>
            <p>
              Para quest√µes sobre estes termos, entre em contato:<br />
              Email: contato@astromeu.com.br
            </p>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

**Criar arquivo:** `client/src/pages/privacy.tsx`

```typescript
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { useLocation } from "wouter";
import { ArrowLeft, Shield } from "lucide-react";

export default function Privacy() {
  const [, setLocation] = useLocation();

  return (
    <div className="min-h-screen bg-white p-6">
      <div className="max-w-4xl mx-auto">
        <Button 
          variant="ghost" 
          className="mb-6"
          onClick={() => setLocation("/")}
        >
          <ArrowLeft className="h-4 w-4 mr-2" />
          Voltar
        </Button>

        <Card>
          <CardHeader>
            <div className="flex items-center gap-3">
              <div className="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center">
                <Shield className="h-6 w-6 text-indigo-600" />
              </div>
              <div>
                <CardTitle className="text-2xl">Pol√≠tica de Privacidade</CardTitle>
                <p className="text-sm text-muted-foreground mt-1">
                  √öltima atualiza√ß√£o: {new Date().toLocaleDateString('pt-BR')}
                </p>
              </div>
            </div>
          </CardHeader>
          <CardContent className="prose prose-sm max-w-none space-y-4">
            <h3 className="text-lg font-medium mt-6">1. Informa√ß√µes que Coletamos</h3>
            
            <h4 className="text-base font-medium mt-4">1.1 Informa√ß√µes Fornecidas por Voc√™</h4>
            <ul className="list-disc pl-6 space-y-1">
              <li><strong>Dados de cadastro:</strong> nome, email, WhatsApp</li>
              <li><strong>Dados astrol√≥gicos:</strong> data, hora e local de nascimento</li>
              <li><strong>Fotos:</strong> foto de perfil e foto do parceiro (opcional)</li>
              <li><strong>Prefer√™ncias:</strong> voz preferida para √°udios, hor√°rio de notifica√ß√£o</li>
              <li><strong>Conte√∫do:</strong> mensagens no chat, entradas do di√°rio</li>
            </ul>

            <h4 className="text-base font-medium mt-4">1.2 Informa√ß√µes Coletadas Automaticamente</h4>
            <ul className="list-disc pl-6 space-y-1">
              <li>Endere√ßo IP e localiza√ß√£o aproximada</li>
              <li>Tipo de dispositivo e navegador</li>
              <li>Hor√°rios de acesso e uso</li>
              <li>P√°ginas visualizadas e a√ß√µes realizadas</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">2. Como Usamos Suas Informa√ß√µes</h3>
            <ul className="list-disc pl-6 space-y-1">
              <li><strong>Servi√ßo principal:</strong> Gerar mapas astrais, √°udios personalizados, an√°lises de compatibilidade</li>
              <li><strong>IA e personaliza√ß√£o:</strong> Treinar e melhorar respostas do chat astrol√≥gico</li>
              <li><strong>Comunica√ß√£o:</strong> Enviar √°udios di√°rios via WhatsApp, notifica√ß√µes importantes</li>
              <li><strong>Pagamentos:</strong> Processar assinaturas e cobran√ßas</li>
              <li><strong>Melhorias:</strong> Analisar uso para melhorar a plataforma</li>
              <li><strong>Suporte:</strong> Responder d√∫vidas e resolver problemas</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">3. Compartilhamento de Dados</h3>
            <p>
              N√≥s N√ÉO vendemos seus dados pessoais. Compartilhamos informa√ß√µes apenas com:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li><strong>Processadores de pagamento:</strong> Para cobran√ßas (Stripe/Cakto)</li>
              <li><strong>WhatsApp API:</strong> Para envio de √°udios di√°rios</li>
              <li><strong>OpenAI/Anthropic:</strong> Para processamento de chat (dados anonimizados quando poss√≠vel)</li>
              <li><strong>Servi√ßos de infraestrutura:</strong> Hospedagem (Replit/Railway) e banco de dados (Supabase)</li>
              <li><strong>Autoridades:</strong> Quando exigido por lei</li>
            </ul>

            <h3 className="text-lg font-medium mt-6">4. Uso de IA (Intelig√™ncia Artificial)</h3>
            <p>
              <strong>Importante:</strong> Utilizamos modelos de IA (OpenAI/Claude) para:
            </p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Gerar respostas no chat astrol√≥gico</li>
              <li>Criar scripts dos √°udios di√°rios</li>
              <li>Analisar entradas do di√°rio e detectar padr√µes</li>
            </ul>
            <p className="mt-2">
              Suas conversas podem ser processadas por estes servi√ßos. N√£o compartilhe informa√ß√µes 
              extremamente sens√≠veis ou confidenciais no chat.
            </p>

            <h3 className="text-lg font-medium mt-6">5. Armazenamento e Seguran√ßa</h3>
            <ul className="list-disc pl-6 space-y-1">
              <li>Dados armazenados em servidores seguros (Supabase)</li>
              <li>Conex√µes criptografadas (HTTPS/TLS)</li>
              <li>Senhas com hash seguro (se implementarmos login tradicional)</li>
              <li>Backups regulares</li>
              <li>Acesso restrito apenas para equipe autorizada</li>
            </ul>
            <p className="mt-2">
              <strong>Importante:</strong> Nenhum sistema √© 100% seguro. Mantenha sua senha privada.
            </p>

            <h3 className="text-lg font-medium mt-6">6. Seus Direitos (LGPD)</h3>
            <p>Voc√™ tem direito de:</p>
            <ul className="list-disc pl-6 space-y-1">
              <li><strong>Acessar:</strong> Ver quais dados temos sobre voc√™</li>
              <li><strong>Corrigir:</strong> Atualizar dados incorretos</li>
              <li><strong>Deletar:</strong> Solicitar exclus√£o da conta e dados</li>
              <li><strong>Portar:</strong> Receber seus dados em formato estruturado</li>
              <li><strong>Revogar:</strong> Retirar consentimento a qualquer momento</li>
              <li><strong>Opor-se:</strong> Discordar de certos usos dos dados</li>
            </ul>
            <p className="mt-2">
              Para exercer seus direitos, entre em contato: privacidade@astromeu.com.br
            </p>

            <h3 className="text-lg font-medium mt-6">7. Reten√ß√£o de Dados</h3>
            <ul className="list-disc pl-6 space-y-1">
              <li>Dados de conta: Mantidos enquanto conta estiver ativa</li>
              <li>Hist√≥rico de chat: 90 dias ap√≥s √∫ltima mensagem</li>
              <li>Entradas do di√°rio: 1 ano ap√≥s cria√ß√£o</li>
              <li>√Åudios di√°rios: 30 dias</li>
              <li>Dados de pagamento: 5 anos (obriga√ß√£o legal)</li>
            </ul>
            <p className="mt-2">
              Ap√≥s exclus√£o da conta, dados pessoais s√£o removidos em at√© 30 dias, 
              exceto quando exigido por lei.
            </p>

            <h3 className="text-lg font-medium mt-6">8. Cookies e Rastreamento</h3>
            <p>Usamos cookies para:</p>
            <ul className="list-disc pl-6 space-y-1">
              <li>Manter voc√™ logado</li>
              <li>Lembrar prefer√™ncias</li>
              <li>Analisar uso da plataforma (Google Analytics - opcional)</li>
            </ul>
            <p className="mt-2">
              Voc√™ pode desabilitar cookies nas configura√ß√µes do navegador, mas isso pode 
              afetar funcionalidades.
            </p>

            <h3 className="text-lg font-medium mt-6">9. Menores de Idade</h3>
            <p>
              O AstroMeu √© destinado a maiores de 18 anos. N√£o coletamos intencionalmente 
              dados de menores. Se identificarmos, deletaremos imediatamente.
            </p>

            <h3 className="text-lg font-medium mt-6">10. Transfer√™ncia Internacional</h3>
            <p>
              Alguns de nossos fornecedores (OpenAI, ElevenLabs) est√£o nos EUA. Ao usar o 
              servi√ßo, voc√™ concorda com transfer√™ncia de dados para estes pa√≠ses, que possuem 
              prote√ß√µes de privacidade equivalentes.
            </p>

            <h3 className="text-lg font-medium mt-6">11. Altera√ß√µes nesta Pol√≠tica</h3>
            <p>
              Podemos atualizar esta pol√≠tica ocasionalmente. Mudan√ßas significativas ser√£o 
              notificadas por email. Recomendamos revisar periodicamente.
            </p>

            <h3 className="text-lg font-medium mt-6">12. Contato - Encarregado de Dados (DPO)</h3>
            <p>
              Para quest√µes sobre privacidade ou exercer seus direitos:<br />
              Email: privacidade@astromeu.com.br<br />
              DPO (Data Protection Officer): [Nome a definir]
            </p>

            <div className="bg-indigo-50 dark:bg-indigo-950/30 p-4 rounded-lg mt-6">
              <p className="text-sm font-medium mb-2">üìß D√∫vidas sobre Privacidade?</p>
              <p className="text-sm text-muted-foreground">
                Estamos comprometidos com a transpar√™ncia. Se tiver qualquer d√∫vida sobre 
                como tratamos seus dados, entre em contato conosco.
              </p>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
```

**Atualizar rotas em App.tsx:**
```typescript
import Terms from "@/pages/terms";
import Privacy from "@/pages/privacy";

// Adicionar:
<Route path="/terms" component={Terms} />
<Route path="/privacy" component={Privacy} />
```

**Atualizar links no Onboarding:**
```typescript
<a href="/terms" target="_blank" className="text-indigo-500 underline">
  termos de uso
</a>
{" e a "}
<a href="/privacy" target="_blank" className="text-indigo-500 underline">
  pol√≠tica de privacidade
</a>
```

---

## üé§ MELHORAR LABEL DE PREFER√äNCIA DE VOZ

### **TAREFA 12: Tornar Sele√ß√£o de Voz Mais Visual**

**Modificar:** `client/src/pages/onboarding.tsx` (Step 3)

**Substituir o texto e layout:**

```typescript
<FormField
  control={form.control}
  name="voicePreference"
  render={({ field }) => (
    <FormItem>
      <FormLabel className="text-base">G√™nero da voz do seu Recado Di√°rio ‚ú®</FormLabel>
      <p className="text-sm text-muted-foreground mb-3">
        Escolha a voz que mais combina com voc√™
      </p>
      <FormControl>
        <RadioGroup
          onValueChange={field.onChange}
          defaultValue={field.value}
          className="grid grid-cols-2 gap-4"
        >
          <Label
            htmlFor="voice-feminine"
            className="cursor-pointer"
          >
            <div className={`flex flex-col items-center gap-3 p-6 rounded-2xl border-2 transition-all ${
              field.value === "feminine"
                ? "border-indigo-500 bg-indigo-50 dark:bg-indigo-950/30 shadow-md"
                : "border-border hover:border-indigo-200"
            }`}>
              <div className="w-16 h-16 rounded-full bg-gradient-to-br from-pink-400 to-purple-400 flex items-center justify-center">
                <span className="text-3xl">üë©</span>
              </div>
              <RadioGroupItem value="feminine" id="voice-feminine" className="sr-only" />
              <div className="text-center">
                <p className="font-medium">Voz Feminina</p>
                <p className="text-xs text-muted-foreground mt-1">Suave e acolhedora</p>
              </div>
            </div>
          </Label>
          
          <Label
            htmlFor="voice-masculine"
            className="cursor-pointer"
          >
            <div className={`flex flex-col items-center gap-3 p-6 rounded-2xl border-2 transition-all ${
              field.value === "masculine"
                ? "border-indigo-500 bg-indigo-50 dark:bg-indigo-950/30 shadow-md"
                : "border-border hover:border-indigo-200"
            }`}>
              <div className="w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-indigo-400 flex items-center justify-center">
                <span className="text-3xl">üë®</span>
              </div>
              <RadioGroupItem value="masculine" id="voice-masculine" className="sr-only" />
              <div className="text-center">
                <p className="font-medium">Voz Masculina</p>
                <p className="text-xs text-muted-foreground mt-1">Firme e tranquila</p>
              </div>
            </div>
          </Label>
        </RadioGroup>
      </FormControl>
    </FormItem>
  )}
/>
```

---

## üîì PLANO PADR√ÉO DURANTE DESENVOLVIMENTO

### **TAREFA 13: Definir Plano Plenitude como Padr√£o**

**Modificar:** `shared/schema.ts`

Linha 20, mudar:
```typescript
plan: text("plan").default("plenitude").notNull(), // TEMPOR√ÅRIO - desenvolvimento
```

**E adicionar coment√°rio:**
```typescript
// IMPORTANTE: Antes de produ√ß√£o, mudar para:
// plan: text("plan").default("essencia").notNull(),
```

**Modificar:** `client/src/pages/onboarding.tsx`

No defaultValues do form, adicionar:
```typescript
defaultValues: {
  // ... outros campos
  plan: "plenitude" as PlanType, // TEMPOR√ÅRIO - desenvolvimento
}
```

---

## üîê SISTEMA DE LOGIN

### **TAREFA 14: Adicionar Tela de Login**

**Criar arquivo:** `client/src/pages/login.tsx`

```typescript
import { useState } from "react";
import { useLocation } from "wouter";
import { useMutation } from "@tanstack/react-query";
import { useForm } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import { z } from "zod";
import { Sparkles, Mail, Lock } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Card, CardContent, CardHeader } from "@/components/ui/card";
import { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from "@/components/ui/form";
import { useToast } from "@/hooks/use-toast";
import { apiRequest } from "@/lib/queryClient";

const loginSchema = z.object({
  email: z.string().email("Email inv√°lido"),
  password: z.string().min(6, "Senha deve ter pelo menos 6 caracteres"),
});

type LoginData = z.infer<typeof loginSchema>;

export default function Login() {
  const [, setLocation] = useLocation();
  const { toast } = useToast();

  const form = useForm<LoginData>({
    resolver: zodResolver(loginSchema),
    defaultValues: {
      email: "",
      password: "",
    },
  });

  const loginMutation = useMutation({
    mutationFn: async (data: LoginData) => {
      const response = await apiRequest("POST", "/api/auth/login", data);
      return response.json();
    },
    onSuccess: (data) => {
      localStorage.setItem("userId", data.userId);
      setLocation("/dashboard");
    },
    onError: (error: Error) => {
      toast({
        title: "Erro ao fazer login",
        description: error.message || "Verifique suas credenciais",
        variant: "destructive",
      });
    },
  });

  const onSubmit = (data: LoginData) => {
    loginMutation.mutate(data);
  };

  return (
    <div className="min-h-screen bg-white dark:bg-background flex flex-col items-center justify-center px-4 py-8">
      <div className="w-full max-w-md">
        <div className="text-center mb-8">
          <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 mb-4">
            <Sparkles className="h-8 w-8 text-white" />
          </div>
          <h1 className="text-2xl font-medium text-foreground">Bem-vindo de volta!</h1>
          <p className="text-muted-foreground mt-1">
            Entre para acessar sua jornada astrol√≥gica
          </p>
        </div>

        <Card className="border-0 shadow-lg shadow-indigo-100/50 dark:shadow-none">
          <CardContent className="pt-6">
            <Form {...form}>
              <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
                <FormField
                  control={form.control}
                  name="email"
                  render={({ field }) => (
                    <FormItem>
                      <FormLabel>Email</FormLabel>
                      <FormControl>
                        <div className="relative">
                          <Mail className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
                          <Input
                            type="email"
                            placeholder="seu@email.com"
                            className="pl-10"
                            {...field}
                          />
                        </div>
                      </FormControl>
                      <FormMessage />
                    </FormItem>
                  )}
                />

                <FormField
                  control={form.control}
                  name="password"
                  render={({ field }) => (
                    <FormItem>
                      <FormLabel>Senha</FormLabel>
                      <FormControl>
                        <div className="relative">
                          <Lock className="absolute left-3 top-3 h-4 w-4 text-muted-foreground" />
                          <Input
                            type="password"
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            className="pl-10"
                            {...field}
                          />
                        </div>
                      </FormControl>
                      <FormMessage />
                    </FormItem>
                  )}
                />

                <Button 
                  type="submit" 
                  className="w-full" 
                  size="lg"
                  disabled={loginMutation.isPending}
                >
                  {loginMutation.isPending ? "Entrando..." : "Entrar"}
                </Button>
              </form>
            </Form>

            <div className="mt-6 text-center space-y-3">
              <Button
                variant="link"
                className="text-sm"
                onClick={() => {
                  toast({
                    title: "Em breve!",
                    description: "Recupera√ß√£o de senha ser√° implementada em breve.",
                  });
                }}
              >
                Esqueceu sua senha?
              </Button>

              <div className="relative">
                <div className="absolute inset-0 flex items-center">
                  <span className="w-full border-t" />
                </div>
                <div className="relative flex justify-center text-xs uppercase">
                  <span className="bg-background px-2 text-muted-foreground">
                    Primeira vez?
                  </span>
                </div>
              </div>

              <Button
                variant="outline"
                className="w-full"
                onClick={() => setLocation("/")}
              >
                Criar conta gratuita
              </Button>
            </div>
          </CardContent>
        </Card>

        <footer className="text-center mt-6 text-xs text-muted-foreground">
          <a href="/terms" className="hover:text-indigo-500">Termos de Uso</a>
          {" ‚Ä¢ "}
          <a href="/privacy" className="hover:text-indigo-500">Privacidade</a>
        </footer>
      </div>
    </div>
  );
}
```

**Atualizar Onboarding para adicionar bot√£o de login:**

```typescript
// No topo da p√°gina de onboarding, adicionar:
<div className="absolute top-4 right-4">
  <Button
    variant="ghost"
    onClick={() => setLocation("/login")}
  >
    J√° tem conta? Entrar
  </Button>
</div>
```

**Adicionar rota em App.tsx:**
```typescript
import Login from "@/pages/login";

// Adicionar:
<Route path="/login" component={Login} />
```

---

## üé® ELEMENTOS MAIS DIN√ÇMICOS (REACT)

### **TAREFA 15: Adicionar Micro-intera√ß√µes e Anima√ß√µes**

**Instalar Framer Motion (opcional mas recomendado):**
```bash
npm install framer-motion
```

**Exemplos de uso:**

**1. Cards com hover:**
```typescript
import { motion } from "framer-motion";

<motion.div
  whileHover={{ scale: 1.02, boxShadow: "0 4px 20px rgba(99, 102, 241, 0.1)" }}
  transition={{ duration: 0.2 }}
>
  <Card>
    {/* conte√∫do */}
  </Card>
</motion.div>
```

**2. Bot√µes com feedback:**
```typescript
<motion.button
  whileTap={{ scale: 0.95 }}
  whileHover={{ scale: 1.05 }}
>
  <Button>Clique aqui</Button>
</motion.button>
```

**3. Fade-in em listas:**
```typescript
<motion.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  transition={{ duration: 0.3 }}
>
  {/* conte√∫do */}
</motion.div>
```

**4. Stagger em cards do di√°rio:**
```typescript
const container = {
  hidden: { opacity: 0 },
  show: {
    opacity: 1,
    transition: {
      staggerChildren: 0.1
    }
  }
};

const item = {
  hidden: { opacity: 0, y: 20 },
  show: { opacity: 1, y: 0 }
};

<motion.div variants={container} initial="hidden" animate="show">
  {entries.map((entry) => (
    <motion.div key={entry.id} variants={item}>
      <Card>{/* conte√∫do */}</Card>
    </motion.div>
  ))}
</motion.div>
```

---

## ‚úÖ CHECKLIST FINAL DE VALIDA√á√ÉO:

Ap√≥s implementar TUDO, verificar:

**Upload de Fotos:**
- [ ] Consigo fazer upload de foto no onboarding
- [ ] Consigo fazer upload de foto do parceiro no Radar do Cora√ß√£o
- [ ] Preview da foto aparece corretamente
- [ ] Hover mostra op√ß√£o de trocar foto

**Seletor de Estado/Cidade:**
- [ ] Consigo selecionar estado em dropdown
- [ ] Ao selecionar estado, dropdown de cidade aparece
- [ ] Lista de cidades est√° correta para o estado
- [ ] Funciona no onboarding
- [ ] Funciona no cadastro do parceiro

**P√°ginas Legais:**
- [ ] Link "termos de uso" abre p√°gina /terms
- [ ] Link "pol√≠tica de privacidade" abre p√°gina /privacy
- [ ] P√°ginas t√™m conte√∫do completo
- [ ] Bot√£o voltar funciona

**Prefer√™ncia de Voz:**
- [ ] Visual est√° mais atrativo (com √≠cones/emojis)
- [ ] Cards mudam ao selecionar
- [ ] Label est√° clara

**Plano Padr√£o:**
- [ ] Usu√°rios novos s√£o criados com plano "plenitude"
- [ ] Todas funcionalidades est√£o desbloqueadas

**Sistema de Login:**
- [ ] P√°gina /login existe e funciona
- [ ] Onboarding tem bot√£o "J√° tem conta?"
- [ ] Login redireciona para dashboard
- [ ] Erro de credenciais mostra mensagem

**Anima√ß√µes:**
- [ ] Cards t√™m hover suave
- [ ] Bot√µes t√™m feedback t√°til
- [ ] Transi√ß√µes s√£o suaves
- [ ] N√£o h√° travamentos

---

## üö® NOTAS IMPORTANTES:

1. **Fotos s√£o armazenadas como Base64** no banco (campo `text`)
2. **Para produ√ß√£o:** considere usar CDN/S3 para fotos
3. **Valida√ß√£o de tamanho:** adicionar limite de 2MB nas fotos
4. **Compress√£o:** considere comprimir imagens antes de salvar
5. **LGPD:** Documenta√ß√£o de privacidade est√° completa e conforme lei brasileira

---

Cole este prompt JUNTO com o anterior no Replit para implementa√ß√£o completa! üöÄ

